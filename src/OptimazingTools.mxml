<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   xmlns:mx="library://ns.adobe.com/flex/mx" 
			   minWidth="955" minHeight="600"
			   creationComplete="creationCompleteHandler()">
	<fx:Script>
		<![CDATA[
			import com.elad.optimize.framerate.FrameRateControl;
			import com.elad.optimize.memory.FrameStats;
			
			import mx.core.FlexGlobals;
			import mx.core.UIComponent;
			
			private var frameRateControl:FrameRateControl;
			private var frameStats:FrameStats;
			
			private var sprite:Sprite = new Sprite();
			
			protected function creationCompleteHandler():void
			{
				frameStats = new FrameStats(FlexGlobals.topLevelApplication, false );
				frameRateControl = new FrameRateControl( FlexGlobals.topLevelApplication, false, false, 1, 1);
				
				var componenent:UIComponent = new UIComponent();
				componenent.addChild( frameStats );
				frameStatsHolder.addElement( componenent );
				
				uicom.addChild( sprite );
				
				frameStats.testingExecutionTimeOfMethod( methodToTest, 10000 ); 
			}
			
			protected function button1_clickHandler():void
			{
/* 				trace( "Shape: " + getSize( new Shape() ) );
				trace( "Sprite: " + getSize( new Sprite() ) );
				trace( "MovieClip: " + getSize( new MovieClip() ) );
				trace( "UIComponent: " + getSize( new UIComponent() ) );
				trace( "Group: " + getSize( new Group() ) );
				trace( "Skin: " + getSize( new Skin() ) ); */
				//PerformanceTestDemo();
			}
			
			
			private function methodToTest():void
			{
				sprite.addChild( new Group() );
			}
			
		]]>
	</fx:Script>
	
	<s:Group id="frameStatsHolder" />
	<mx:UIComponent id="uicom" />
	
</s:Application>
